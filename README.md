# Impactify's Android SDK
Impactify's Android SDK for Mobile Native Ads. This is a solution written in Swift and using Google's IMA SDK as a base, you can consider this package to be a wrapper to IMA so it integrates nicely with Impactify's services.

## Google IMA SDK
This package already includes all the necessary dependencies to run IMA and it's 100% required to run this solution. We use IMA to decode VAST and implement Google's tracking events (clicks, pauses, how much of a video has the user seen, etc...).

# Example
Inside the repository we provide an example for our Sticky Floating format. Developers can refer to the example to see how the code is supposed to be structured.

# Manifest
You'll need to add the following permissions (required by Google's IMA SDK):

```xml
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
```

# Dependencies
```
    implementation 'androidx.appcompat:appcompat:1.4.1'
    implementation 'com.google.android.material:material:1.5.0'
    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'
    implementation 'androidx.multidex:multidex:2.0.1'
    implementation 'com.google.android.exoplayer:exoplayer-core:2.17.1'
    implementation 'com.google.android.exoplayer:exoplayer-ui:2.17.1'
    implementation 'com.google.android.exoplayer:extension-ima:2.17.1'
    implementation files('./libs/app-debug.aar') // our package
```

# ImpactifyAd Class
A new instance of the ImpactifyAd class needs to be instanciated. It takes a few parameters:

| Parameter | Required? | Type | Description
|---|---|---|---|
| context | Yes | this | App Context |
| adOptions | Yes | AdOptions | See documentation below. |
| playerView | Yes | PlayerView | UIView where the ad will be rendered |
| appId | Yes | String | App ID provided by Impactify that is used to fetch the config of the VASTs |
| consentString | Yes | String | String generated by your Consent Manager |

Example:
```java
    ImpactifyAd impactify = new ImpactifyAd(this, options, findViewById(R.id.videoView), "appId", "consentString");
```

# AdOptions
AdOptions is used to feed the additional options into the player. Right now the configuration is rather limited to placement and border radius, but future configurability is expected.

| Parameter | Required? | Type | Description
|---|---|---|---|
| placement | No | String | Default: bottom. Placement of the ad, options: "bottom", "top" and "custom" |
| borderRadius | No | Int | Default: 0. Border radius given to the UIView where the ad is rendered |

Example:
```java
    AdOptions options = new AdOptions("bottom", 0);
    ImpactifyAd impactify = new ImpactifyAd(this, options, findViewById(R.id.videoView), "appId", "consentString");
```

# Whole Example

```java
package io.impactify.impactify_test_app;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;

import io.impactify.sdk.AdOptions;
import io.impactify.sdk.ImpactifyAd;


public class MainActivity extends AppCompatActivity {

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Impactify SDK
        AdOptions options = new AdOptions("bottom", 0);
        try {
            ImpactifyAd impactify = new ImpactifyAd(this, options, findViewById(R.id.videoView), "641ACF59C90BF-UID.414706506", "asdsadsasasdsdsa");
        }
        catch (Exception e) {
            Log.e("ImpactifyDEBUG", e.getMessage());
        }
    }

}
```
